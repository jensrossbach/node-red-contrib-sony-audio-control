<script type="text/javascript">
    RED.nodes.registerType("sony-audio-event",
    {
        category:     "sony audio",
        color:        "#2DABCE",
        icon:         "sony.png",
        outputs:      1,
        outputLabels: ["event parameters"],
        paletteLabel: "event",
        label: function()
        {
            return (this.name || "event: " + this.event);
        },
        labelStyle: function()
        {
            return (this.name ? "node_label_italic" : "");
        },
        defaults:
        {
            name:
            {
                value: ""
            },
            device:
            {
                value: "",
                type:  "sony-audio-device"
            },
            event:
            {
                value: "any"
            }
        }
    });
</script>

<script type="text/x-red" data-template-name="sony-audio-event">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
    <div class="form-row">
        <label for="node-input-device"><i class="fa fa-music"></i> Device</label>
        <input type="text" id="node-input-device" placeholder="Device">
    </div>
    <div class="form-row">
        <label for="node-input-event"><i class="fa fa-calendar-o"></i> Event</label>
        <select id="node-input-event">
            <option value="any">Any</option>
            <option value="notifyPowerStatus">Power Status</option>
            <option value="notifyStorageStatus">Storage Status</option>
            <option value="notifySettingsUpdate">Settings Update</option>
            <option value="notifySWUpdateInfo">Software Update Information</option>
            <option value="notifyVolumeInformation">Volume Information</option>
            <option value="notifyExternalTerminalStatus">External Terminal Status</option>
            <option value="notifyAvailablePlaybackFunction">Available Playback Function</option>
            <option value="notifyPlayingContentInfo">Playing Content Information</option>
        </select>
    </div>
</script>

<script type="text/x-red" data-help-name="sony-audio-event">
    <p>Notifies an event from a Sony audio device.</p>
    <h3>Outputs</h3>
    <dl class="message-properties">
        <dt>method<span class="property-type">string</span></dt>
        <dd>the API method of the event.</dd>
        <dt>version<span class="property-type">string</span></dt>
        <dd>the API version of the event.</dd>
        <dt>payload<span class="property-type">object</span></dt>
        <dd>the arguments of the event.</dd>
    </dl>
    <h3>Details</h3>
    <p>
        This node listens for events and sends the event data (API method, API
        version and event arguments) to its output. The event arguments are in
        the format as they come from the device.
    </p>
    <p>
        Please choose an event you want to get notified for or select "Any" if
        the node should notify all subscribed events (see also event subscription
        settings in the configuration node).
    </p>
</script>